<nav class="z-title-lg">
  团队管理
</nav>
<section class="z-bg-white clearfix">
  <header>
    <h1 class="z-title-md-style">
      筛选查询
    </h1>
  </header>
  <ul class="clearfix">
    <li class="col-lg-3 col-md-4 col-sm-4 f-l">
      <label for="teamname">团队名称：</label>
      <input class="z-input" id="teamname" [(ngModel)]="params.name">
    </li>
    <li class="col-lg-3 col-md-4 col-sm-4 f-l">
      <label>团队类型：</label>
      <app-select [list]="teamType" [(selectedCode)]="params.type"></app-select>
    </li>
    <li class="col-lg-3 col-md-4 col-sm-4 f-l">
      <label>状态：</label>
      <app-select [list]="teamState" [(selectedCode)]="params.status"></app-select>
    </li>
    <li class="col-lg-3 col-md-4 col-sm-4 f-l">
      <label>所在区域：</label>
      <app-district [(checkedCode)]="params.workingDistrict"></app-district>
    </li>
    <li class="col-lg-12 col-md-8 col-sm-8 f-l">
      <label>关联标签：</label>
      <app-set-related-tags [(tagList)]="tagList" [(tags)]="tags"></app-set-related-tags>
    </li>
  </ul>
  <div class="f-r">
    <a class="mr8" (click)="clearSearch()">清空搜索条件</a>
    <button class="z-btn-blue-lg" (click)="submit()">搜索</button>
  </div>
</section>

<section class="z-bg-white clearfix">
  <header class="clearfix mb10">
    <h1 class="z-title-md-style dib">信息列表</h1>
    <button class="z-btn-blue-lg f-r" routerLink="/admin/addTeam">创建</button>
  </header>
  <table class="z-table-sm">
    <thead>
    <tr>
      <th width="5%">序号</th>
      <th width="10%">团队名称</th>
      <th width="5%">团队类型</th>
      <th width="10%">所在区域</th>
      <th width="5%">状态</th>
      <th width="10%">可服务区域</th>
      <th width="10%">团队角色</th>
      <th width="5%">成员人数</th>
      <th width="10%">创建者</th>
      <th width="15%">创建时间</th>
      <th width="15%">操作</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of lists; let i=index;">
      <td>{{i+1}}</td>
      <td>{{item.name}}</td>
      <td>{{item.type}}</td>
      <td>{{item.address}}</td>
      <td>{{item.status}}</td>
      <td>{{item.cityId}}</td>
      <td></td>
      <td>{{item.members}}</td>
      <td>{{item.creator}}</td>
      <td>{{item.createTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
      <td class="handle">
        <p>
          <button class="z-btn-blue-sm mr5 mb5" (click)="openModal(edit)">编辑</button>
          <button class="z-btn-grey-sm mr5 mb5" (click)="openModal(template)">解散</button>
          <!--<button class="z-btn-blue-sm mr5 mb5">设置角色</button>-->
          <app-role-modal [roles]="item.roles"></app-role-modal>
        </p>
        <p>
          <button class="z-btn-blue-sm mr5 mb5" routerLink="/admin/memberManage">成员管理</button>
          <app-district-mult class="mb5" [ifResult]="false"></app-district-mult>
        </p>
      </td>
    </tr>
    </tbody>
  </table>
  <app-pagination (pageChanged)="pageChanged()" [(pageConf)]="pageConf"></app-pagination>
</section>

<ng-template #edit>
  <div class="modal-header">
    <h4 class="modal-title pull-left">编辑用户信息</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <ul>
      <li>
        <label for="name">用户姓名：</label>
        <input class="z-input" id="name">
      </li>
      <li>
        <label for="cellphone">手机号码：</label>
        <input class="z-input" id="cellphone">
      </li>
      <li>
        <label for="mail">邮箱地址：</label>
        <input class="z-input" id="mail">
      </li>
      <li>
        <label for="setCity">工作城市：</label>
        <span id="setCity">深圳</span>
        <a>设置</a>
      </li>
      <li>
        <label for="setlab">关联标签：</label>
        <div>
          <span id="setlab">多区域</span>
        </div>
      </li>
    </ul>
  </div>
  <div class="modal-footer">
      <div class="f-r">
        <button type="button" class="z-btn-grey-lg mr7">取消</button>
        <button type="button" class="z-btn-blue-lg">确定</button>
      </div>
    </div>
</ng-template>

<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">禁用账号</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div>
      确认将 用户：张三（13688881234）账号禁用吗？
    </div>
    <div>
      禁用账号将不可登录
    </div>
  </div>
  <div class="modal-footer">
    <div class="f-r">
      <button type="button" class="z-btn-grey-lg mr7">取消</button>
      <button type="button" class="z-btn-blue-lg">确定</button>
    </div>
  </div>
</ng-template>

<ng-template #asignTeam>
  <div class="modal-header">
    <h4 class="modal-title pull-left">分配团队</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div>
      基本信息：张三   13956981234  深圳
    </div>
    <div>
      <h4>已加入团队</h4>
      <ul>
        <li>深圳飞虎队</li>
        <li>深圳飞虎队</li>
      </ul>
    </div>
    <div>
      <h4>分配团队</h4>
      <input type="text" placeholder="请输入要加入的团队名称">
      <ul>
        <li>深圳天鹰队</li>
        <li>深圳天鹰队</li>
      </ul>
    </div>
  </div>
  <div class="modal-footer">
    <div class="f-r">
      <button type="button" class="z-btn-grey-lg mr7">取消</button>
      <button type="button" class="z-btn-blue-lg">确定</button>
    </div>
  </div>
</ng-template>

<ng-template #asignArea>
  <div class="modal-header">
    <h4 class="modal-title pull-left">分配服务区域</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="col-4">
      <h4>已选服务区域（最多选10个）</h4>
      <ul>
        <li>
          深圳
        </li>
        <li>
          惠州
        </li>
      </ul>
    </div>
    <div class="col-8">
      <h4>选择服务区域（可选国家、省、市任何一级）</h4>
    </div>
  </div>
  <div class="modal-footer">
    <div class="f-r">
      <button type="button" class="z-btn-grey-lg mr7">取消</button>
      <button type="button" class="z-btn-blue-lg">确定</button>
    </div>
  </div>
</ng-template>

